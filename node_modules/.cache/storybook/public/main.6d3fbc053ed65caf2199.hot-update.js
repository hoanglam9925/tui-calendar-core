"use strict";
self["webpackHotUpdate_toast_ui_calendar"]("main",{

/***/ "./src/components/popup/seeMoreEventsPopup.tsx":
/*!*****************************************************!*\
  !*** ./src/components/popup/seeMoreEventsPopup.tsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SeeMoreEventsPopup": function() { return /* binding */ SeeMoreEventsPopup; }
/* harmony export */ });
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.string.pad-start.js */ "../../node_modules/core-js/modules/es.string.pad-start.js");
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_string_pad_start_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.to-string.js */ "../../node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.regexp.to-string.js */ "../../node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.map.js */ "../../node_modules/core-js/modules/es.array.map.js");
/* harmony import */ var _Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Users_hlam_Desktop_www_tui_calendar_node_modules_core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! preact */ "../../node_modules/preact/dist/preact.module.js");
/* harmony import */ var preact_compat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! preact/compat */ "../../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! preact/hooks */ "../../node_modules/preact/hooks/dist/hooks.module.js");
/* harmony import */ var _src_components_events_horizontalEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @src/components/events/horizontalEvent */ "./src/components/events/horizontalEvent.tsx");
/* harmony import */ var _src_components_popup_closePopupButton__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @src/components/popup/closePopupButton */ "./src/components/popup/closePopupButton.tsx");
/* harmony import */ var _src_components_template__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @src/components/template */ "./src/components/template.tsx");
/* harmony import */ var _src_constants_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @src/constants/style */ "./src/constants/style.ts");
/* harmony import */ var _src_contexts_calendarStore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/contexts/calendarStore */ "./src/contexts/calendarStore.ts");
/* harmony import */ var _src_contexts_eventBus__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/contexts/eventBus */ "./src/contexts/eventBus.tsx");
/* harmony import */ var _src_contexts_floatingLayer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/contexts/floatingLayer */ "./src/contexts/floatingLayer.tsx");
/* harmony import */ var _src_contexts_themeStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/contexts/themeStore */ "./src/contexts/themeStore.tsx");
/* harmony import */ var _src_helpers_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/helpers/css */ "./src/helpers/css.ts");
/* harmony import */ var _src_selectors_popup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/selectors/popup */ "./src/selectors/popup.ts");
/* harmony import */ var _src_time_datetime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @src/time/datetime */ "./src/time/datetime.ts");
/* harmony import */ var _src_utils_type__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @src/utils/type */ "./src/utils/type.ts");



















var classNames = {
  container: (0,_src_helpers_css__WEBPACK_IMPORTED_MODULE_7__.cls)('see-more-container'),
  seeMore: (0,_src_helpers_css__WEBPACK_IMPORTED_MODULE_7__.cls)('see-more'),
  header: (0,_src_helpers_css__WEBPACK_IMPORTED_MODULE_7__.cls)('see-more-header'),
  list: (0,_src_helpers_css__WEBPACK_IMPORTED_MODULE_7__.cls)('month-more-list')
};
function SeeMoreEventsPopup() {
  var popupParams = (0,_src_contexts_calendarStore__WEBPACK_IMPORTED_MODULE_8__.useStore)(_src_selectors_popup__WEBPACK_IMPORTED_MODULE_9__.seeMorePopupParamSelector);

  var _ref = popupParams !== null && popupParams !== void 0 ? popupParams : {},
      date = _ref.date,
      _ref$events = _ref.events,
      events = _ref$events === void 0 ? [] : _ref$events,
      popupPosition = _ref.popupPosition;

  var _useMonthTheme = (0,_src_contexts_themeStore__WEBPACK_IMPORTED_MODULE_10__.useMonthTheme)(),
      moreView = _useMonthTheme.moreView,
      moreViewTitle = _useMonthTheme.moreViewTitle;

  var seeMorePopupSlot = (0,_src_contexts_floatingLayer__WEBPACK_IMPORTED_MODULE_11__.useFloatingLayer)('seeMorePopupSlot');
  var eventBus = (0,_src_contexts_eventBus__WEBPACK_IMPORTED_MODULE_12__.useEventBus)();
  var moreEventsPopupContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);
  var isHidden = (0,_src_utils_type__WEBPACK_IMPORTED_MODULE_13__.isNil)(date) || (0,_src_utils_type__WEBPACK_IMPORTED_MODULE_13__.isNil)(popupPosition) || (0,_src_utils_type__WEBPACK_IMPORTED_MODULE_13__.isNil)(seeMorePopupSlot);
  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function () {
    if (!isHidden && moreEventsPopupContainerRef.current) {
      eventBus.fire('clickMoreEventsBtn', {
        date: date.toDate(),
        target: moreEventsPopupContainerRef.current
      });
    }
  }, [date, eventBus, isHidden]);

  if (isHidden) {
    return null;
  }

  var style = {
    height: _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_HEIGHT,
    marginBottom: _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM,
    padding: _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_PADDING,
    backgroundColor: moreViewTitle.backgroundColor
  };
  var moreTitle = {
    ymd: (0,_src_time_datetime__WEBPACK_IMPORTED_MODULE_15__.toFormat)(date, 'YYYY-MM-DD'),
    day: date.getDay(),
    date: date.getDate().toString().padStart(2, '0')
  };
  var moreViewListStyle = {
    height: "calc(100% - " + (_src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_HEIGHT + _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_MARGIN_BOTTOM + _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_PADDING_TOP) + "px)"
  };
  console.log({
    events: events
  });
  return (0,preact_compat__WEBPACK_IMPORTED_MODULE_5__.createPortal)((0,preact__WEBPACK_IMPORTED_MODULE_4__.h)("div", {
    role: "dialog",
    className: classNames.container,
    style: popupPosition,
    ref: moreEventsPopupContainerRef
  }, (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)("div", {
    className: classNames.seeMore,
    style: moreView
  }, (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)("div", {
    className: classNames.header,
    style: style
  }, (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)(_src_components_template__WEBPACK_IMPORTED_MODULE_16__.Template, {
    template: "monthMoreTitleDate",
    param: moreTitle
  }), (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)(_src_components_popup_closePopupButton__WEBPACK_IMPORTED_MODULE_17__.ClosePopupButton, {
    type: "moreEvents"
  })), (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)("div", {
    className: classNames.list,
    style: moreViewListStyle
  }, events.map(function (uiModel) {
    return (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)(_src_components_events_horizontalEvent__WEBPACK_IMPORTED_MODULE_18__.HorizontalEvent, {
      key: "see-more-event-item-" + uiModel.cid(),
      uiModel: uiModel,
      eventHeight: _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_EVENT_HEIGHT,
      headerHeight: _src_constants_style__WEBPACK_IMPORTED_MODULE_14__.MONTH_MORE_VIEW_HEADER_HEIGHT,
      flat: true
    });
  })))), seeMorePopupSlot);
}

/***/ })

});
//# sourceMappingURL=main.6d3fbc053ed65caf2199.hot-update.js.map